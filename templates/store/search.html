{% extends "../base.html" %}
{% load static %}
{% block extra_title %}| {{ q }} {% endblock %}
{% block content %}

<!--Search Title-->
{% if q %}
<div class="container">
    <h1>You searched for: "{{ q }}"</h1>
</div>
{% else %}
<div class="container">
    <h1>Search our merchandise, results will display here.</h1>
</div>
{% endif %}

<!--Cards Container-->
<div class="album py-5 bg-light">
    <div class="container">
        <div class="row">
            <!--Loops through merch displaying them responsively in cards-->
            {% for post in results %}
            <div class="col-sm-6 col-md-6 col-lg-4 col-xl-3">
                <div class="card h-100 mb-4 shadow-sm text-center">
                    <!--Card Header Image-->
                    <div class="overflow-auto">
                        <img class="card-img-top" width="100%" height="100%" src="../media/{{ post.image }}">
                    </div>
                    <!--Card Body Text-->
                    <div class="card-body text-center">
                        <a class="card-text"
                            href="{{ post.get_absolute_url }}"><strong>{{ post.product_name }}</strong></a>
                        <p class="card-text"><em>{{ post.description }}</em></p>
                        <p class="card-text">Â£{{ post.price }}</p>
                    </div>
                    <!--Card Footer Buttons-->
                    <div class="card-footer">
                        <a href="#" class="btn btn-secondary text-left">Button</a>
                        <a href="#" class="btn btn-primary text-right">Button</a>
                    </div>
                </div>
            </div>

            <!--Horizontal Rule Settings-->

            <!--Displays under each item on small screens-->
            {% if forloop.counter|divisibleby:2 %}
            <div class="col-12 d-sm-none">
                <hr>
            </div>
            {% endif %}

            <!--Displays when row is divisible by 2 on medium views-->
            {% if forloop.counter|divisibleby:2 %}
            <div class="col-12 d-none d-sm-block d-md-block d-lg-none">
                <hr>
            </div>
            {% endif %}

            <!--Displays when row is divisible by 3 on large views-->
            {% if forloop.counter|divisibleby:3 %}
            <div class="col-12 d-none d-lg-block d-xl-none">
                <hr>
            </div>
            {% endif %}

            <!--Displays when row is divisible by 4 on x-large views-->
            {% if forloop.counter|divisibleby:4 %}
            <div class="col-12 d-none d-xl-block">
                <hr>
            </div>
            {% endif %}

            {% endfor %}
        </div>
    </div>
</div>
</main>
{% endblock %}